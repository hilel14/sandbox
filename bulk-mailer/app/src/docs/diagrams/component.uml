@startuml

title Newsletter Components

' component [Web Application \n\n Apache Camel \n\n Apache Tomcat] as webApp

node "Apache Tomcat" {
  component [Web App] #lightgrey
  [Apache Camel] . [Web App]
}

package "Java SE" {
	component [Mailer App] #lightgrey
	[Spring Batch] . [Mailer App]
}

http --> [Apache HTTPd]
[Apache HTTPd] --> 8080 : -- proxy
8080 -> [Web App]
[Web App] --> 3306
3306 --> [MariaDB]
[Web App] --> imap
imap --> [Dovecot]
[Mailer App] --> 3306
[Mailer App] --> smtp
smtp --> [Postfix]

@enduml
