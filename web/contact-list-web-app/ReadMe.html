<!DOCTYPE html>
<html>
    <head>
        <title>Contact List Notes</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            li {
                margin-bottom: 10px;
            }
        </style>        
    </head>
    <body>

        <h1>Design principles</h1>

        <ul>
            <li>
                Turn static HTML page into dynamic page by using <strong>client-side scripting</strong>.
                <br>
                No JSP, ASP, PHP and similar server-side technologies.
            </li>
            <li>
                Use HTML, JavaScript and CSS <strong>directly</strong>.
                <br>
                No using one language to generate code in another language.
            </li>
            <li>
                Use <strong>libraries</strong> (JQuery) but <strong>not frameworks</strong> (AngularJS, Backbone, Ember).
            </li>
            <li>
                Implement complete <strong>separation of presentation from logic</strong>,
                by using JavaScript to manipulate <strong>standard HTML page</strong>.
                <br>
                <a href="http://www.workingsoftware.com.au/page/Your_templating_engine_sucks_and_everything_you_have_ever_written_is_spaghetti_code_yes_you">
                    No templates,
                </a>
                template engines and template language.
            </li>
        </ul>

        <h1>Setup</h1>

        <h2>Simple deployment</h2>

        <ol>
            <li>
                Copy 4 files from <code>src/main/webapp</code> to a folder somewhere on your desktop:
                <br>
                index.html
                <br>
                styles.css
                <br>
                controller.js
                <br>
                persistence.js
            </li>
            <li>Make sure the head section of <strong>index.html</strong> has a reference to
                <strong>persistence.js</strong>,
                and not persistence-rest.js</li>
            <li>Open <strong>index.html</strong> in your web browser</li>
        </ol>

        <h2>WebApp deployment</h2>

        <ol>
            <li>Make sure the head section of <strong>index.html</strong> has a reference to
                <strong>persistence-rest.js</strong>,
                and not persistence.js</li>
            <li>
                Run <code>mvn clean install</code>.
                <br>
                This will build the WAR file and also download H2 jar to local maven repository.
            </li>
            <li>Start H2 database, by running the following command (replace <code>/var/opt/h2</code> with a folder on your machine):<br>
                <code>
                    java -cp  ~/.m2/repository/com/h2database/h2/1.4.190/h2-1.4.190.jar org.h2.tools.Server -tcp -web -baseDir /var/opt/h2
                </code>
            </li>
            <li>
                Open 
                <a href="http://localhost:8082">
                    H2 console
                </a>
                and login using the url, user-name and password found in 
                <code>src/main/webapp/META-INF/context.xml</code>
            </li>
            <li>
                Create contacts table with the script found in <code>src/main/resources/create-database-tables.sql</code>
            </li>
            <li>
                Start Apache Tomcat 
                (<a href="http://tomcat.apache.org/">download</a> and install it first, if needed).
            </li>
            <li>
                Deploy <code>target/contact-list-web-app.war</code> to Apache Tomcat
            </li>
        </ol>

    </body>

</html>
